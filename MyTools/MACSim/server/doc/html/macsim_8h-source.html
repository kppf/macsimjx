<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MACSim Server: MACSim/server/include/macsim.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">MACSim</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">server</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">include</a></div>
<h1>macsim.h</h1><a href="macsim_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">//----------------------------------------------------------------------------</span>
00002 <span class="comment">// MACSim.h</span>
00003 <span class="comment">//</span>
00004 <span class="comment">// Project : Multi-Agent Control in a Simulink block</span>
00005 <span class="comment">// File    : MACSimServer class declaration</span>
00006 <span class="comment">//</span>
00007 <span class="comment">// Version : 1.0</span>
00008 <span class="comment">// Date    : 9th February 2005</span>
00009 <span class="comment">// Author  : Peter Mendham</span>
00010 <span class="comment">//</span>
00011 <span class="comment">// (c) University of York</span>
00012 <span class="comment">//----------------------------------------------------------------------------</span>
00013 
00014 <span class="preprocessor">#ifndef __MACSIM_H__</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define __MACSIM_H__</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include &lt;windows.h&gt;</span>
00018 <span class="preprocessor">#include &lt;string&gt;</span>
00019 
00020 <span class="preprocessor">#include "matrix.h"</span>
00021 
00022 <span class="preprocessor">#include "<a class="code" href="server_8h.html">server.h</a>"</span>
00023 <span class="preprocessor">#include "../../include/interface.h"</span>
00024 
00025 <span class="comment">//----------------------------------------------------------------------------</span>
00026 <span class="comment">// MACSimServerInterface class</span>
00027 <span class="comment">//----------------------------------------------------------------------------</span>
00028 
<a name="l00038"></a><a class="code" href="class_m_a_c_sim_server_interface.html">00038</a> <span class="keyword">class </span><a class="code" href="class_m_a_c_sim_server_interface.html">MACSimServerInterface</a>
00039 {
00040         
00041 <span class="keyword">public</span>:
00042 
00046 
00050         <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_m_a_c_sim_server_interface.html#z2_0">getNumInputs</a>() = 0;
00051 
00055         <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_m_a_c_sim_server_interface.html#z2_1">getNumOutputs</a>() = 0;
00056         
00062         <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_m_a_c_sim_server_interface.html#z2_2">getSampleInterval</a>() = 0;
00063         
00065         
00070         
00077         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_m_a_c_sim_server_interface.html#z3_0">getSimOutputs</a>(ColumnVectorAliasConstant&amp; in, ColumnVectorAlias&amp; out) = 0;
00078         
00080 };
00081 
00082 <span class="comment">//----------------------------------------------------------------------------</span>
00083 <span class="comment">// ConfigServer class</span>
00084 <span class="comment">//----------------------------------------------------------------------------</span>
00085 
<a name="l00091"></a><a class="code" href="class_config_server.html">00091</a> <span class="keyword">class </span><a class="code" href="class_config_server.html">ConfigServer</a> : <span class="keyword">public</span> <a class="code" href="class_server.html">Server</a>
00092 {
00093         
00094 <span class="keyword">protected</span>:
00095 
<a name="l00097"></a><a class="code" href="class_config_server.html#p0">00097</a>         <a class="code" href="class_m_a_c_sim_server_interface.html">MACSimServerInterface</a>* <a class="code" href="class_config_server.html#p0">m_interface</a>;
00098         
00108         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_config_server.html#b0">serverFunc</a>(<span class="keywordtype">void</span>* request, <span class="keywordtype">void</span>* reply);
00109 
00110 <span class="keyword">public</span>:
00111 
<a name="l00122"></a><a class="code" href="class_config_server.html#a0">00122</a>         <a class="code" href="class_config_server.html#a0">ConfigServer</a>(<a class="code" href="class_m_a_c_sim_server_interface.html">MACSimServerInterface</a>* p_interface) : 
00123                 <a class="code" href="class_server.html">Server</a>(<span class="stringliteral">"configuration"</span>, <a class="code" href="interface_8h.html#a0">MAC_CONFIG_PIPE_NAME</a>, sizeof(DWORD), sizeof(DWORD))
00124         { <a class="code" href="class_config_server.html#p0">m_interface</a> = p_interface; }
00125 };
00126 
00127 <span class="comment">//----------------------------------------------------------------------------</span>
00128 <span class="comment">// SimServer class</span>
00129 <span class="comment">//----------------------------------------------------------------------------</span>
00130 
<a name="l00136"></a><a class="code" href="class_sim_server.html">00136</a> <span class="keyword">class </span><a class="code" href="class_sim_server.html">SimServer</a> : <span class="keyword">public</span> <a class="code" href="class_server.html">Server</a>
00137 {
00138         
00139 <span class="keyword">protected</span>:
00140 
<a name="l00142"></a><a class="code" href="class_sim_server.html#p0">00142</a>         <a class="code" href="class_m_a_c_sim_server_interface.html">MACSimServerInterface</a>* <a class="code" href="class_sim_server.html#p0">m_interface</a>;
00143         
00158         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_sim_server.html#b0">serverFunc</a>(<span class="keywordtype">void</span>* request, <span class="keywordtype">void</span>* reply);
00159 
00160 <span class="keyword">public</span>:
00161 
<a name="l00177"></a><a class="code" href="class_sim_server.html#a0">00177</a>         <a class="code" href="class_sim_server.html#a0">SimServer</a>(<a class="code" href="class_m_a_c_sim_server_interface.html">MACSimServerInterface</a>* p_interface) : 
00178                 <a class="code" href="class_server.html">Server</a>(<span class="stringliteral">"simulation"</span>, 
00179                            <a class="code" href="interface_8h.html#a1">MAC_SIM_PIPE_NAME</a>, 
00180                            p_interface-&gt;getNumInputs()*sizeof(double), 
00181                            p_interface-&gt;getNumOutputs()*sizeof(double))
00182         { <a class="code" href="class_sim_server.html#p0">m_interface</a> = p_interface; }
00183 };
00184 
00185 <span class="comment">//----------------------------------------------------------------------------</span>
00186 <span class="comment">// MACSimServer class</span>
00187 <span class="comment">//----------------------------------------------------------------------------</span>
00188 
<a name="l00194"></a><a class="code" href="class_m_a_c_sim_server.html">00194</a> <span class="keyword">class </span><a class="code" href="class_m_a_c_sim_server.html">MACSimServer</a>
00195 {
00196         
00197 <span class="keyword">protected</span>:
00198 
<a name="l00200"></a><a class="code" href="class_m_a_c_sim_server.html#p0">00200</a>         string <a class="code" href="class_m_a_c_sim_server.html#p0">m_name</a>;
00201         
00203         <span class="comment">//</span>
<a name="l00205"></a><a class="code" href="class_m_a_c_sim_server.html#p1">00205</a> <span class="comment"></span>        <span class="keywordtype">int</span> <a class="code" href="class_m_a_c_sim_server.html#p1">m_isRunning</a>;
00206         
<a name="l00208"></a><a class="code" href="class_m_a_c_sim_server.html#p2">00208</a>         <a class="code" href="class_config_server.html">ConfigServer</a> <a class="code" href="class_m_a_c_sim_server.html#p2">m_configServer</a>;
00209         
<a name="l00211"></a><a class="code" href="class_m_a_c_sim_server.html#p3">00211</a>         <a class="code" href="class_sim_server.html">SimServer</a> <a class="code" href="class_m_a_c_sim_server.html#p3">m_simServer</a>;
00212 
00213 <span class="keyword">public</span>:
00214 
00224         <a class="code" href="class_m_a_c_sim_server.html#a0">MACSimServer</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* p_name, <a class="code" href="class_m_a_c_sim_server_interface.html">MACSimServerInterface</a>* p_interface);
00225         
<a name="l00230"></a><a class="code" href="class_m_a_c_sim_server.html#a1">00230</a>         <span class="keywordtype">void</span> <a class="code" href="class_m_a_c_sim_server.html#a1">run</a>()
00231         { <a class="code" href="class_m_a_c_sim_server.html#a1">run</a>(1, 1); }
00232 
00246         <span class="keywordtype">void</span> <a class="code" href="class_m_a_c_sim_server.html#a1">run</a>(<span class="keywordtype">int</span> showMessage, <span class="keywordtype">int</span> waitForKey);
00247         
00249         <span class="keywordtype">void</span> <a class="code" href="class_m_a_c_sim_server.html#a3">terminate</a>();
00250 };
00251 
00252 <span class="comment">//----------------------------------------------------------------------------</span>
00253 
00254 <span class="preprocessor">#endif // __MACSIM_H__</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Mar 9 15:53:43 2005 for MACSim Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
